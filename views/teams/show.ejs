<% layout('layouts/dashboard') %>
<% title = 'Team Details' %>

<h2 class="mb-4">ğŸ‘¥ Team: <%= team.name %></h2>

<div class="card mb-4 shadow-sm">
  <div class="card-body">
    <!-- Function Head -->
    <div class="mb-3">
      <h5 class="text-muted">ğŸ‘¤ Function Head</h5>
      <% if (team.functionHead) { %>
        <p><strong><%= team.functionHead.name %></strong> (<%= team.functionHead.email %>)</p>
      <% } else { %>
        <p class="text-muted">Not Assigned</p>
      <% } %>
    </div>

    <!-- OKR Editors -->
    <div class="mb-3">
      <h5 class="text-muted">âœï¸ OKR Editors</h5>
      <% if (team.okrEditors && team.okrEditors.length > 0) { %>
        <ul class="mb-0 ps-3">
          <% team.okrEditors.forEach(editor => { %>
            <li><%= editor.name %> (<%= editor.email %>)</li>
          <% }) %>
        </ul>
      <% } else { %>
        <p class="text-muted">No editors assigned</p>
      <% } %>
    </div>

    <!-- Parent Team -->
    <div class="mb-3">
      <h5 class="text-muted">ğŸ§© Parent Team</h5>
      <% if (team.parentTeam) { %>
        <p><%= team.parentTeam.name %></p>
      <% } else { %>
        <p class="text-muted">No parent team</p>
      <% } %>
    </div>
  </div>
</div>

<!-- Action Buttons -->
<a href="/<%= orgName %>/teams" class="btn btn-outline-secondary me-2">â¬… Back to Teams</a>
<a href="/<%= orgName %>/teams/<%= team._id %>/edit" class="btn btn-primary">âœï¸ Edit Team</a>
